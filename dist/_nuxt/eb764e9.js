(window.webpackJsonp=window.webpackJsonp||[]).push([[45,15,16],{336:function(t,e,r){"use strict";var n=r(2),o=r(222).trim;n({target:"String",proto:!0,forced:r(384)("trim")},{trim:function(){return o(this)}})},370:function(t,e,r){var content=r(373);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("0f2b8f48",content,!0,{sourceMap:!1})},371:function(t,e,r){"use strict";r.r(e);var n={name:"PreloaderOverlay"},o=(r(372),r(16)),component=Object(o.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"preloader-overlay"},[e("div",{staticClass:"preloader-wrapper big active"},[e("div",{staticClass:"spinner-layer spinner-red-only"},[e("div",{staticClass:"circle-clipper left"},[e("div",{staticClass:"circle"})]),t._v(" "),e("div",{staticClass:"gap-patch"},[e("div",{staticClass:"circle"})]),t._v(" "),e("div",{staticClass:"circle-clipper right"},[e("div",{staticClass:"circle"})])])])])}],!1,null,"1f9d7abd",null);e.default=component.exports},372:function(t,e,r){"use strict";r(370)},373:function(t,e,r){var n=r(46)((function(i){return i[1]}));n.push([t.i,".preloader-overlay[data-v-1f9d7abd]{align-items:center;background-color:rgba(0,0,0,.6);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:9999}",""]),n.locals={},t.exports=n},375:function(t,e,r){t.exports=r.p+"img/logo.d2f3c61.png"},376:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row",staticStyle:{"margin-top":"0px"}},[e("div",{staticClass:"col s12 m3"}),t._v(" "),e("div",{staticClass:"col s12 m6 center"},[e("img",{staticClass:"responsive-img circle",staticStyle:{"max-width":"100px","max-height":"100px"},attrs:{src:r(375),alt:""}})]),t._v(" "),e("div",{staticClass:"col s12 m3"})])])}],o={name:"TinaLogo"},c=r(16),component=Object(c.a)(o,(function(){this._self._c;return this._m(0)}),n,!1,null,null,null);e.default=component.exports},378:function(t,e,r){t.exports=r.p+"img/angled_background.c716e15.jpg"},384:function(t,e,r){"use strict";var n=r(93).PROPER,o=r(3),c=r(223);t.exports=function(t){return o((function(){return!!c[t]()||"​᠎"!=="​᠎"[t]()||n&&c[t].name!==t}))}},428:function(t,e,r){var content=r(531);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("59bd7022",content,!0,{sourceMap:!1})},530:function(t,e,r){"use strict";r(428)},531:function(t,e,r){var n=r(46)((function(i){return i[1]}));n.push([t.i,".desktop-blocker[data-v-7212b40a]{align-items:center;background:#f5f5f5;display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:99999}.full-width[data-v-7212b40a]{margin:0;width:100%}input[data-v-7212b40a]:focus{border-bottom:1px solid #c60606!important;box-shadow:0 1px 0 0 #c60606!important}",""]),n.locals={},t.exports=n},580:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(48),r(91),r(17),r(28),r(41),r(74),r(336),r(378)),c=r.n(o),l=(r(371),r(369)),d={head:function(){return{script:[{hid:"cryptojs",src:"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js",defer:!0}]}},data:function(){return{backgroundUrl:c.a,username:"",password:"",version_number:"1.0.1",disabled:!1,loading:!1,lat:"",long:"",isDesktop:!1}},methods:{checkDevice:function(){var t=navigator.userAgent||navigator.vendor||window.opera,e=/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t.toLowerCase()),r="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;this.isDesktop=!(e||r)},signIn:function(){this.username=this.username.trim(),this.password=this.password.trim(),""===this.username||""===this.password?M.toast({html:'<b class="red-text">Username or Password is empty!</b>'}):(M.toast({html:'<b class="yellow-text">Authenticating...</b>'}),this.convertEmail(this.username,this.password))},convertEmail:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,c,content,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.encryptWithAes256(e,"astsk@#$001!!!*&^"),n.prev=2,r.disabled=!0,r.loading=!0,n.next=7,fetch("https://api.ikejaelectric.com/technicalwfrestapi/prod/v1/api/v1/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"},body:JSON.stringify({usernameOrEmail:t,password:o,latitude:r.lat,longitude:r.long,versionNumber:r.version_number})});case 7:return c=n.sent,n.next=10,c.json();case 10:content=n.sent,l=content.code,console.log(content),"00"===l?(M.toast({html:'<b class="green-text">Welcome</b>'}),localStorage.setItem("token",content.token),localStorage.setItem("forms",content.forms),localStorage.setItem("userId",content.userId),localStorage.setItem("username",r.username),r.$router.push("./menu")):(M.toast({html:'<b class="red-text">'.concat(content.message||"Login Failed","</b>")}),r.disabled=!1,r.loading=!1),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(2),M.toast({html:'<b class="red-text">Connection Error</b>'}),r.disabled=!1,r.loading=!1;case 21:case"end":return n.stop()}}),n,null,[[2,16]])})))()},encryptWithAes256:function(t,e){var r=CryptoJS.lib.WordArray.random(16),n=CryptoJS.PBKDF2(e,r,{keySize:8,iterations:1e3,hasher:CryptoJS.algo.SHA512}),o=CryptoJS.lib.WordArray.random(16),c=CryptoJS.AES.encrypt(t,n,{iv:o});return r.clone().concat(o).concat(c.ciphertext).toString(CryptoJS.enc.Base64).replace(/(.{56})/g,"$1\n")},getUsernameFromLocalStorage:function(){this.username=localStorage.getItem("username")||""}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.checkDevice(),t.getUsernameFromLocalStorage(),e.prev=2,e.next=5,Object(l.f)();case 5:r=e.sent,n=r.long,o=r.lat,t.long=n,t.lat=o,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Location not captured");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))()}},v=(r(530),r(16)),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",[t.isDesktop?e("div",{staticClass:"desktop-blocker"},[e("div",{staticClass:"container center-align"},[e("Logo"),t._v(" "),t._m(0)],1)]):e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col s12 m6",staticStyle:{"margin-top":"130px"}},[e("Logo"),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("h5",{staticClass:"center red-text"},[t._v("\n            Technical Workforce "),e("br"),t._v(" "),e("b",{staticClass:"center red-text",staticStyle:{"font-weight":"300","font-size":"12px"}},[t._v("Version: "+t._s(t.version_number))])]),t._v(" "),e("PreLoader",{staticClass:"center",class:{hide:!t.loading}})],1),t._v(" "),e("form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],ref:"username",staticClass:"black-text",attrs:{type:"text",id:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),e("label",{staticClass:"active",attrs:{for:"username"}},[t._v("Username")])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"black-text",attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),e("label",{staticClass:"active",attrs:{for:"password"}},[t._v("Password")])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12"},[e("button",{staticClass:"red btn btn-large col s12",staticStyle:{background:"linear-gradient(to right, #E75309, #C60606)","border-radius":"8px"},attrs:{disabled:t.disabled},on:{click:t.signIn}},[t._v("\n                Login\n              ")])])])])])],1),t._v(" "),e("div",{staticClass:"col s12 m6 full-width hide-on-small-and-down",style:{backgroundImage:"url(".concat(t.backgroundUrl,")"),height:"100vh",backgroundSize:"cover"}})])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-panel",staticStyle:{"margin-top":"50px","border-radius":"15px",padding:"40px"}},[e("i",{staticClass:"material-icons large red-text"},[t._v("phonelink_lock")]),t._v(" "),e("h4",{staticClass:"red-text",staticStyle:{"font-weight":"bold"}},[t._v("Mobile Access Only")]),t._v(" "),e("p",{staticClass:"grey-text text-darken-2",staticStyle:{"font-size":"1.2rem"}},[t._v("\n          The Technical Workforce portal is restricted to mobile devices for field operations.\n        ")]),t._v(" "),e("p",[t._v("Please access this site via your "),e("b",[t._v("Smartphone Browser")]),t._v(" or use the "),e("b",[t._v("Official Android App")]),t._v(".")]),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}},[e("button",{staticClass:"btn-large red darken-2",staticStyle:{"border-radius":"8px",width:"100%"}},[t._v("\n             Get the mobile app from the Admininistrator\n          ")])])])}],!1,null,"7212b40a",null);e.default=component.exports;installComponents(component,{Logo:r(376).default,PreLoader:r(371).default})}}]);